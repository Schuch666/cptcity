---
title: "cptcity package"
author: "Sergio Ibarra-Espinosa"
date: "6 de Febrero de 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

[![Travis-CI Build Status](https://travis-ci.org/ibarraespinosa/cptcity.svg?branch=master)](https://travis-ci.org/ibarraespinosa/cptcity)
[![AppVeyor Build Status](https://ci.appveyor.com/api/projects/status/github/ibarraespinosa/cptcity?branch=master&svg=true)](https://ci.appveyor.com/project/ibarraespinosa/cptcity)
[![DOI](https://zenodo.org/badge/120517547.svg)](https://zenodo.org/badge/latestdoi/120517547)
[![Coverage status](https://codecov.io/gh/ibarraespinosa/cptcity/branch/master/graph/badge.svg)](https://codecov.io/github/ibarraespinosa/cptcity?branch=master)
[![](http://cranlogs.r-pkg.org/badges/cptcity)](http://cran.rstudio.com/web/packages/cptcity/index.html)
[![Rdoc](http://www.rdocumentation.org/badges/version/cptcity)](http://www.rdocumentation.org/packages/cptcity)

## A package to return colour gradients from CPTCITY

Colour palletes comes from http://soliton.vm.bytemark.co.uk/pub/cpt-city/index.html

Currently there are 7140 colour gradients. To se the names type `cpt_names`.

There are two functions:

- `find_cpt`: To search the name of the colour gradient.

Example:

```{r eval = FALSE}
library(cptcity)
find_cpt("radar")
[1] "idv_radar_dbz_nws"    "idv_radar_dbz"        "idv_radar_reflect_24" "idv_radar_topo_mdr"  
[5] "ncl_radar_1"          "ncl_radar"   
```


- `cpt`: To return the colour gradient.

```{r eval = T}
cptcity::cpt(pal = "ncl_radar_1", n = 100)

```

## Install and use it!

```{r eval = F}
# install.packages("cptcity")
# devtools::install_github("ibarraespinosa/cptcity")
library(cptcity)
image(matrix(1:100), col = cpt(pal = "mpl_inferno"))
```

![](https://i.imgur.com/CWcwXVa.png)

And you can use it ggplot2
```{r eval = F}
library(cptcity)
library(ggplot2)
ggplot(faithfuld, aes(waiting, eruptions)) +
  geom_raster(aes(fill = density))
```

![](https://i.imgur.com/Uso0Gzm.png)
```{r eval = F}
ggplot(faithfuld, aes(waiting, eruptions)) +
  geom_raster(aes(fill = density)) +
  scale_fill_gradientn(colours = cpt(n = 100))

```

![](https://i.imgur.com/VgfUO0O.png)


or raster
```{r eval = F}
library(cptcity)
library(raster)
f <- system.file("external/test.grd", package="raster")
r <- raster(f)
spplot(r, scales = list(draw = T))
```


![](https://i.imgur.com/BXPp0bi.png)

```{r eval = F}
spplot(r, scales = list(draw = T),
       col.regions = rev(cpt(n = 100, pal = "arendal_zambezi_focus")))
```


![](https://i.imgur.com/Ej4Hahy.png)

Each pallete has a COPYING.XML files available at ins/extdata. To see each file do:

```{r eval = T}
library(cptcity)
files <- list.files(system.file("extdata",
                                package = "cptcity"),
                    pattern = ".xml",
                    recursive = T,
                    full.names = T)
# For instance, the COPYING files of "arendal" is
files[1]
# and the file
readLines(files[1])
```

